---
title: 阿里云CentOS7服务器配置
author: Rain
tags:
  - Linux
  - CentOS
  - 前端
categories:
  - 服务器
date: '2019-11-19 09:01'
---

<Boxx/>

最近发现之前阿里云云翼计划的服务器CPU和内存占用有点高,考虑到Windows的占用问题,而且大部分服务器都在使用Linux,于是决定将系统镜像换成Linux,在此记录下服务器的配置.

## 服务器的安全组配置

安全组方面,需要将常用的端口放行,否则无法访问相应端口的服务.
除默认配置外我加了以下端口

![Clip_20191119_091355.png](https://i.loli.net/2019/11/19/36OmFvExkqtGz5y.png)

## 使用SSH连接服务器

由于Linux没有图形界面,所以在此我选择Xshell连接,也可以选择Putty,都比较好用

![Clip_20191119_094746.png](https://i.loli.net/2019/11/19/LyNljmHTib9kIVC.png)

## 搭建web服务器

为了方便配置和安装,在此我使用的是宝塔面板,为什么选择这个面板呢?因为原生的各种配置较为复杂,不适合初学者入门,有集成的当然要偷懒了,而且这个面板在服务器上应用较为广泛,我也用了很多年了,还是很不错的,关于此面板的介绍可以访问[宝塔面板官网](https://bt.cn)

安装命令:

```
yum install -y wget && wget -O install.sh http://download.bt.cn/install/install_6.0.sh && sh install.sh
```

待命令跑完后,此时屏幕上会显示一个http:的地址,这便是你的宝塔面板的后台,如果安全组配置没有问题,你此时已经可以用浏览器打开这个地址,使用屏幕上显示的用户名以及密码登录后台.

此时应该还会自动弹出让你选择WEB服务器及数据库的选项.在此你可以根据自己的需求进行选择(即使此处选错或者漏选也可以后续在软件商店进行重新安装或者卸载)

![Clip_20191119_095723.png](https://i.loli.net/2019/11/19/AZqpJgHv8fLo6Xu.png)

装好之后,可以在这里添加网站
![QQ截图20191119100135.png](https://i.loli.net/2019/11/19/SQgs5ZYrzj69emf.png)

添加一个ftp账户用来便于后面上传源码,添加一个数据库用于后面数据的保存.

完成之后需要将域名解析至服务器IP,如果有多个网站,可以使用二级域名解析到不同的网站.使用阿里云的服务器需要域名进行备案.具体的可以去百度阿里云域名备案

那么问题来了,没有域名怎么办?

当然,没有域名我们也可以直接使用服务器的ip进行访问,只需要在创建网站的选项中将服务器的ip写在域名栏中.等服务器收到客户端的请求后就会将此网站的内容显示给用户.

网站创建好之后,可以将网站的源码使用FTP客户端上传至服务器,ftp客户端可以使用Xftp,连接后进入对应的网站目录,将源码上传至对应目录即可.
![QQ截图20191119102706.png](https://i.loli.net/2019/11/19/EAuclMshICbYy1v.png)

## MySQL的相关配置

在服务器端,我们可以使用phpMyadmin连接数据库进行增删改查,想要远程使用数据库,比如使用Navicat连接数据库,默认是不支持此操作的,需要进行相关的配置.

### 防火墙及安全组

需要放行3306端口

### root用户

使用phpMyadmin,打开上面的账户,选择root用户,将配置改为如图,如果防火墙及安全组放行正常的话,就可以进行连接了

![QQ截图20191119103822.png](https://i.loli.net/2019/11/19/ARUng1rbaVqLIMv.png)

![QQ截图20191119103849.png](https://i.loli.net/2019/11/19/tNxT2ZqomVkOBip.png)

### 普通用户

对于单个的用户来讲,只需要将此选项改为所有人,即可进行远程连接.

![QQ截图20191119103315.png](https://i.loli.net/2019/11/19/M2Vt3Zcka4IrPud.png)

至此,简单的web服务器就搭建完成了.其余需要的服务可以在宝塔软件商店中进行安装及配置.

*简单来讲,当发现服务从本地访问不到,首先检查服务器的安全组配置是否正常,接下来检查服务器的防火墙配置是否正确,再检查服务器端的进程是否正常运行.*

<Vssue :title="$title" />